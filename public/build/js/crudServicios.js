let usuarioIDsString="",Validador={},regServicio={nombre:"",precio:"",Tiempo:""};function selServiciosID(){document.querySelector("#btnEliminarS").addEventListener("click",e=>{e.preventDefault();const r=document.querySelectorAll('input[type="checkbox"]'),o=[];r.forEach(e=>{if(e.checked){const r=e.getAttribute("data-value");o.push(r)}}),usuarioIDsString="('"+o.join("','")+"')",delServiciosSel()})}async function delServiciosSel(){try{const e=new FormData;e.append("IDs",usuarioIDsString),e.append("accion","eliminar");const r="/appsalon_mvc/public/index.php/crudservicios",o=await fetch(r,{method:"POST",body:e});await o.json();window.location.reload()}catch(e){console.log(e)}}function validarFrmRegServicio(){document.querySelector("#btnRegistrarS").addEventListener("click",(function(e){e.preventDefault(),Validador.error=[];let r=document.querySelector("#nombreServicio").value;regServicio.nombre=r,""==r.trim()&&Validador.error.push("* El Nombre del Servicio es Requerido");let o=document.querySelector("#precioServicio").value;regServicio.precio=o,""==o.trim()&&Validador.error.push("* El Precio es Requerido");let i=document.querySelector("#tiempoServicio").value;if(regServicio.Tiempo=i,""==i.trim()&&Validador.error.push("* El Tiempo es Requerido"),0===Validador.error.length)registrarServicioCRUD();else{console.log(Validador.error);const e=Validador.error.join("<br>");Swal.fire({icon:"error",title:"Validacion de Formulario",html:'<div class="swalmodalerror">'+e+"</div>"})}}))}async function registrarServicioCRUD(){const{nombre:e,precio:r,Tiempo:o}=regServicio;try{const i=new FormData;i.append("nombre",e),i.append("precio",r),i.append("Tiempo",o),i.append("accion","crear");const c="/appsalon_mvc/public/index.php/crudservicios",t=await fetch(c,{method:"POST",body:i});await t.json();window.location.reload()}catch(e){console.log(e)}}document.addEventListener("DOMContentLoaded",(function(){selServiciosID(),validarFrmRegServicio()}));